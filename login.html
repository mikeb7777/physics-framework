<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In - The Big TOE</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            background: #0a0a0a;
            color: #e0e0e0;
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Starfield Background */
        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }
        
        .stars-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-repeat: repeat;
        }
        
        .stars-layer-1 {
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #eee, transparent),
                radial-gradient(2px 2px at 60px 70px, #fff, transparent),
                radial-gradient(1px 1px at 50px 50px, #ddd, transparent);
            background-size: 200px 200px;
            animation: twinkle 3s ease-in-out infinite, move-stars-1 120s linear infinite;
        }
        
        .stars-layer-2 {
            background-image:
                radial-gradient(3px 3px at 100px 120px, #fff, transparent),
                radial-gradient(2px 2px at 40px 160px, #ddd, transparent);
            background-size: 300px 300px;
            animation: twinkle 4s ease-in-out infinite 1s, move-stars-2 180s linear infinite;
        }
        
        @keyframes move-stars-1 {
            from { transform: translateY(0); }
            to { transform: translateY(-200px); }
        }
        
        @keyframes move-stars-2 {
            from { transform: translateY(0); }
            to { transform: translateY(-300px); }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        /* Login Container */
        .login-container {
            position: relative;
            z-index: 1;
            width: 100%;
            max-width: 480px;
            padding: 20px;
        }
        
        .login-box {
            background: rgba(20, 20, 30, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 50px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .logo-section {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .logo-section h1 {
            font-size: 2.5em;
            color: #ffffff;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .logo-section p {
            color: #b0b0b0;
            font-size: 1.05em;
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 35px;
        }
        
        .login-header h2 {
            font-size: 1.8em;
            color: #ffd700;
            margin-bottom: 10px;
        }
        
        .login-header p {
            color: #b0b0b0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        /* GitHub Login Button */
        .github-login-btn {
            width: 100%;
            padding: 16px 24px;
            background: #ffffff;
            color: #1a1a1a;
            border: none;
            border-radius: 8px;
            font-size: 1.05em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .github-login-btn:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
        }
        
        .github-icon {
            width: 24px;
            height: 24px;
        }
        
        /* Info Box */
        .info-box {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .info-box h3 {
            color: #ffd700;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-box p {
            color: #d0d0d0;
            font-size: 0.9em;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        
        .info-box ul {
            list-style: none;
            padding-left: 0;
            margin-top: 12px;
        }
        
        .info-box ul li {
            color: #d0d0d0;
            font-size: 0.9em;
            padding: 4px 0 4px 20px;
            position: relative;
        }
        
        .info-box ul li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #ffd700;
            font-weight: bold;
        }
        
        /* Alternative Login */
        .divider {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }
        
        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .divider span {
            background: rgba(20, 20, 30, 0.9);
            padding: 0 15px;
            position: relative;
            color: #808080;
            font-size: 0.9em;
        }
        
        .email-option {
            text-align: center;
        }
        
        .email-option p {
            color: #b0b0b0;
            font-size: 0.95em;
            margin-bottom: 15px;
        }
        
        .email-btn {
            display: inline-block;
            padding: 12px 30px;
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            color: #e0e0e0;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .email-btn:hover {
            border-color: #ffd700;
            color: #ffd700;
        }
        
        /* Back Link */
        .back-link {
            text-align: center;
            margin-top: 25px;
        }
        
        .back-link a {
            color: #b0b0b0;
            text-decoration: none;
            font-size: 0.95em;
            transition: color 0.3s;
        }
        
        .back-link a:hover {
            color: #ffd700;
        }
        
        /* Privacy Note */
        .privacy-note {
            text-align: center;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .privacy-note p {
            color: #808080;
            font-size: 0.85em;
            line-height: 1.6;
        }
        
        .privacy-note a {
            color: #ffd700;
            text-decoration: none;
        }
        
        .privacy-note a:hover {
            text-decoration: underline;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .login-box {
                padding: 40px 30px;
            }
            
            .logo-section h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="starfield">
        <div class="stars-layer stars-layer-1"></div>
        <div class="stars-layer stars-layer-2"></div>
    </div>

    <div class="login-container">
        <div class="login-box">
            <div class="logo-section">
                <h1>The Big TOE</h1>
                <p>Join the Discussion</p>
            </div>
            
            <div class="login-header">
                <h2>Welcome Back</h2>
                <p>Sign in to participate in discussions and engage with the community</p>
            </div>
            
            <div class="info-box">
                <h3>üîê Why GitHub Login?</h3>
                <p>We use GitHub authentication to power our discussion platform. This means:</p>
                <ul>
                    <li>Secure, trusted authentication</li>
                    <li>One account for all interactions</li>
                    <li>Your discussions are backed up</li>
                    <li>Easy moderation and spam protection</li>
                </ul>
                <p style="margin-top: 12px; font-size: 0.85em; color: #999;">You'll only interact with our beautifully designed interface. GitHub is just working behind the scenes.</p>
            </div>
            
            <button class="github-login-btn" onclick="loginWithGitHub()">
                <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                Continue with GitHub
            </button>
            
            <div class="divider">
                <span>or</span>
            </div>
            
            <div class="email-option">
                <p>Don't have a GitHub account?</p>
                <a href="https://github.com/signup" target="_blank" class="email-btn">Create GitHub Account</a>
            </div>
            
            <div class="back-link">
                <a href="index.html">‚Üê Back to Home</a>
            </div>
            
            <div class="privacy-note">
                <p>By signing in, you agree to our <a href="legal.html#terms">Terms of Service</a> and <a href="legal.html#privacy">Privacy Policy</a></p>
            </div>
        </div>
    </div>

    <script>
        // GitHub OAuth Configuration
        // YOU NEED TO CREATE A GITHUB OAUTH APP AND ADD YOUR CLIENT_ID HERE
        const GITHUB_CLIENT_ID = 'YOUR_GITHUB_CLIENT_ID'; // Replace with your actual Client ID
        const REDIRECT_URI = window.location.origin + '/auth-callback.html'; // Or your callback URL
        
        // GitHub OAuth Login
        function loginWithGitHub() {
            // Check if Client ID is configured
            if (GITHUB_CLIENT_ID === 'YOUR_GITHUB_CLIENT_ID') {
                alert('GitHub OAuth is not yet configured. Please see setup instructions in the code comments.');
                console.log(`
                    TO ENABLE GITHUB LOGIN:
                    
                    1. Go to: https://github.com/settings/developers
                    2. Click "New OAuth App"
                    3. Fill in:
                       - Application name: The Big TOE Discussion
                       - Homepage URL: ${window.location.origin}
                       - Authorization callback URL: ${REDIRECT_URI}
                    4. Copy the Client ID and paste it in the code where it says YOUR_GITHUB_CLIENT_ID
                    5. Create an auth-callback.html page to handle the OAuth response
                `);
                return;
            }
            
            // Store the page user was trying to access
            sessionStorage.setItem('loginRedirect', document.referrer || 'discussions.html');
            
            // Construct GitHub OAuth URL
            const githubAuthUrl = `https://github.com/login/oauth/authorize?` +
                `client_id=${GITHUB_CLIENT_ID}` +
                `&redirect_uri=${encodeURIComponent(REDIRECT_URI)}` +
                `&scope=public_repo,read:discussion,write:discussion` +
                `&state=${generateRandomState()}`;
            
            // Redirect to GitHub OAuth
            window.location.href = githubAuthUrl;
        }
        
        // Generate random state for security
        function generateRandomState() {
            const array = new Uint8Array(16);
            crypto.getRandomValues(array);
            return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
        }
        
        // Check if user is already logged in
        function checkExistingLogin() {
            const token = localStorage.getItem('github_token');
            const username = localStorage.getItem('github_username');
            
            if (token && username) {
                // User is already logged in, redirect to discussions
                window.location.href = 'discussions.html';
            }
        }
        
        // Initialize
        checkExistingLogin();
    </script>
</body>
</html>